{"version":3,"sources":["webpack:///F:/bishe/qejzClient/components/circlechart/circlechart.vue?9860","webpack:///F:/bishe/qejzClient/components/circlechart/circlechart.vue?23df","webpack:///F:/bishe/qejzClient/components/circlechart/circlechart.vue?7b61","webpack:///F:/bishe/qejzClient/components/circlechart/circlechart.vue?8c65","uni-app:///components/circlechart/circlechart.vue","webpack:///F:/bishe/qejzClient/components/circlechart/circlechart.vue?f55e","webpack:///F:/bishe/qejzClient/components/circlechart/circlechart.vue?6c6e"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACa;;;AAGvE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,qXAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClEA;AAAA;AAAA;AAAA;AAAwmB,CAAgB,qnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwD5nB;AACA,qBADA;AAEA,kCAFA;AAGA,MAHA,kBAGA;AACA;AACA,eADA;AAEA,kBAFA;AAGA,iBAHA;AAIA,oBAJA;AAKA,sBALA;AAMA,uBANA;AAOA,uBAPA,EAOA;AACA,uBARA,EAQA;AACA,qBATA,EASA;AACA,uBAVA,EAUA;AACA,qBAXA,EAWA;AACA,sBAZA,EAYA;AACA,mBAbA,EAaA;AACA,mBAdA,EAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,uBAFA,EADA;;AAKA;AACA,wBADA;AAEA,uBAFA,EALA;;AASA;AACA,wBADA;AAEA,uBAFA,EATA;;AAaA;AACA,wBADA;AAEA,uBAFA,EAbA;;AAiBA;AACA,wBADA;AAEA,sBAFA,EAjBA,CADA,EADA,CAFA,EAfA;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,sBAFA,EADA,CADA,EADA,CAFA,EA5CA;;;;;;;;AA2DA,GA/DA;AAgEA,SAhEA,qBAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAxEA;AAyEA;AACA;AACA,gBAFA,0BAEA;AACA,yCADA,CACA;AACA,oCAFA;AAGA;AACA,yCADA,GAHA,SAGA,GAHA;;AAMA,uBANA,GAMA,gBANA;AAOA,0CAPA,CAOA;AACA,+EARA,CAQA;AACA;AACA,sDAVA;AAWA,KAbA;AAcA;AACA,cAfA,sBAeA,CAfA,EAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxBA;AAyBA;AACA,cA1BA,sBA0BA,CA1BA,EA0BA;AACA;AACA;AACA,4EADA;AAEA;AACA;AACA;AACA;AACA;AACA,OARA;AASA,KApCA;AAqCA;AACA,eAtCA,uBAsCA,IAtCA,EAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA;AACA;AACA,iCADA;AAEA,2BAFA;;AAIA,SALA,MAKA;AACA;AACA;AACA,OAlBA;AAmBA;AACA,KA9DA;AA+DA;AACA,WAhEA,mBAgEA,MAhEA,EAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9EA;AA+EA;AACA,eAhFA,uBAgFA,UAhFA,EAgFA;AACA;AACA,sBADA;AAEA;AACA,kBAJA,CAIA;AACA,qBALA,CAKA;AACA,qBANA,CAMA;AACA,kBAPA,CAOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,2BAFA;AAGA,yBAHA;AAIA,0BAJA;;AAMA;AACA,sBADA;AAEA,uBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA,OAxBA,MAwBA;AACA;AACA;AACA;AACA,kBADA;AAEA,mBAFA;;AAIA;AACA;AACA,KA5HA;AA6HA;AACA,cA9HA,wBA8HA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA,KAzIA;AA0IA;AACA,WA3IA,mBA2IA,IA3IA,EA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtJA;AAuJA;AACA,oBAxJA,4BAwJA,KAxJA,EAwJA;AACA;AACA;AACA;AACA,KA5JA;AA6JA,mBA7JA,2BA6JA,KA7JA,EA6JA;;AAEA;AACA;AACA;AACA;AACA,KAnKA;AAoKA,kBApKA,4BAoKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,yBAFA;;AAIA;AACA,SANA,EAMA,IANA;AAOA;AACA,KAjLA,EAzEA,E;;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAA23B,CAAgB,02BAAG,EAAC,C;;;;;;;;;;;ACA/4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/circlechart/circlechart.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./circlechart.vue?vue&type=template&id=ae6b0cbc&\"\nvar renderjs\nimport script from \"./circlechart.vue?vue&type=script&lang=js&\"\nexport * from \"./circlechart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./circlechart.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/circlechart/circlechart.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./circlechart.vue?vue&type=template&id=ae6b0cbc&\"","var components\ntry {\n  components = {\n    qiunDataCharts: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts\" */ \"@/uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var a0 = _vm.haveCounts\n    ? {\n        legend: {\n          position: \"top\"\n        },\n        extra: {\n          radar: {\n            border: true\n          }\n        }\n      }\n    : null\n  var a1 = !_vm.haveCounts\n    ? {\n        legend: {\n          position: \"top\"\n        },\n        extra: {\n          radar: {\n            border: true\n          }\n        }\n      }\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        a0: a0,\n        a1: a1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./circlechart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./circlechart.vue?vue&type=script&lang=js&\"","<template>\n\t<view ref= \"scroll\" @touchstart=\"handleTouchStart\" @touchend=\"handleTouchEnd\"  @touchmove=\"handleTouchMove\">\n\t\t<view class=\"datetype\">\r\n\t\t\t<view class=\"showTime\">\r\n\t\t\t\t<picker mode=\"date\" :value=\"dateVal\" fields=\"month\" :start=\"startDate\" :end=\"endDate\" @change=\"dateChange\" class=\"date\">\r\n\t\t\t\t\t<view class=\"datey\">{{formdateyear}}年</view>\r\n\t\t\t\t\t<view class=\"datem\">{{formdatemonth}}月<text class=\"iconfont icon-xiajiantou icon\"></text></view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<button class=\"btn\" type=\"default\" @click=\"changeType\">{{btntype}}</button>\r\n\t\t</view>\r\n\t\t<!-- 日期 -->\r\n\t\t<!-- 图表 -->\r\n\t\t<view v-if=\"haveCounts\">\r\n\t\t\t<view id=\"myChart\" ref=\"chart\" style=\"width: 100%; height: 200px\">\r\n\t\t\t\t<qiun-data-charts\r\n\t\t\t\t    type=\"pie\"\r\n\t\t\t\t    :chartData=\"chartData\"\r\n\t\t\t\t    background=\"none\"\r\n\t\t\t\t\t:opts=\"{legend:{position: 'top'},extra:{radar:{border:true}}}\"\r\n\t\t\t\t  />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-else>\r\n\t\t\t<view id=\"myChart\" ref=\"chart\" style=\"width: 100%; height: 200px\">\r\n\t\t\t\t<qiun-data-charts\r\n\t\t\t\t    type=\"pie\"\r\n\t\t\t\t    :chartData=\"nullChartData\"\r\n\t\t\t\t    background=\"none\"\r\n\t\t\t\t\t:opts=\"{legend:{position: 'top'},extra:{radar:{border:true}}}\"\r\n\t\t\t\t  />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 列表区域 -->\r\n\t\t<view v-if=\"haveCounts\">\r\n\t\t  <view class=\"listArea\" v-for=\"(item, k) in indexDetail\" :key=\"k\">\r\n\t\t    <view class=\"listItem\">\r\n\t\t      <view class=\"listLeft\">\r\n\t\t        <image :src=\"item.listicon\" alt=\"\" />\r\n\t\t        <text>{{ item.piename }}</text>\r\n\t\t      </view>\r\n\t\t      <view class=\"listRight\">\r\n\t\t        <view class=\"listMoney\">{{ item.pievalue }}元</view>\r\n\t\t        <view class=\"listBI\">{{ item.listbi }}笔</view>\r\n\t\t      </view>\r\n\t\t    </view>\r\n\t\t  </view>\r\n\t\t</view>\r\n\t\t<view v-else class=\"listAreano\">\r\n\t\t  <view class=\"listItemno\"><text>没有数据哦！</text></view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tname:\"circlechart\",\r\n\t\tprops: [\"fuScrollTop\",\"fupdrf\"],\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tstartX: 0,\r\n\t\t\t\tmoveWidth: 0,\r\n\t\t\t\tdateVal: '',\r\n\t\t\t\tfiltertime: '',\r\n\t\t\t\tformdateyear: '',\r\n\t\t\t\tformdatemonth: '',\r\n\t\t\t\thaveCounts: false, //是否有数据\r\n\t\t\t\toldDetailList: [], //筛选过日期的数据\r\n\t\t\t\tindexDetail: [], //整理好的给账单分类列表的数据\r\n\t\t\t\techartsDetail: [], //整理好的给echarts图表的数据\r\n\t\t\t\tinnewDetail: [], //收入数据\r\n\t\t\t\toutnewDetail: [], //支出数据\r\n\t\t\t\tbtntype: \"支出\", //支出收入的文字显示\r\n\t\t\t\ttoglbtn: true, //控制支出收入的切换\n\t\t\t\tchartData: {\r\n\t\t\t\t\t// categories:[],\r\n\t\t\t\t\t\"series\": [\r\n\t\t\t\t\t        {\r\n\t\t\t\t\t            \"data\": [\r\n\t\t\t\t\t                {\r\n\t\t\t\t\t                    \"name\": \"一班\",\r\n\t\t\t\t\t                    \"value\": 50\r\n\t\t\t\t\t                },\r\n\t\t\t\t\t                {\r\n\t\t\t\t\t                    \"name\": \"二班\",\r\n\t\t\t\t\t                    \"value\": 30\r\n\t\t\t\t\t                },\r\n\t\t\t\t\t                {\r\n\t\t\t\t\t                    \"name\": \"三班\",\r\n\t\t\t\t\t                    \"value\": 20\r\n\t\t\t\t\t                },\r\n\t\t\t\t\t                {\r\n\t\t\t\t\t                    \"name\": \"四班\",\r\n\t\t\t\t\t                    \"value\": 18\r\n\t\t\t\t\t                },\r\n\t\t\t\t\t                {\r\n\t\t\t\t\t                    \"name\": \"五班\",\r\n\t\t\t\t\t                    \"value\": 8\r\n\t\t\t\t\t                }\r\n\t\t\t\t\t            ]\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t    ]\r\n\t\t\t\t},\r\n\t\t\t\tnullChartData: {\r\n\t\t\t\t\t// categories:[],\r\n\t\t\t\t\t\"series\": [\r\n\t\t\t\t\t        {\r\n\t\t\t\t\t            \"data\": [\r\n\t\t\t\t\t                {\r\n\t\t\t\t\t                    \"name\": \"无数据\",\r\n\t\t\t\t\t                    \"value\": 0\r\n\t\t\t\t\t                },\r\n\t\t\t\t\t                \r\n\t\t\t\t\t            ]\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t    ]\r\n\t\t\t\t}\n\t\t\t};\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// 初始化当前日期\r\n\t\t\tthis.dateVal = new Date();\r\n\t\t\tthis.filtertime = this.$myformatDate(this.dateVal,0);\r\n\t\t\t// 格式化成年月\r\n\t\t\tthis.formdateyear = this.$myformatDate(this.dateVal,3);\r\n\t\t\tthis.formdatemonth = this.$myformatDate(this.dateVal,4);\r\n\t\t\tthis.getAllDetail();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取数据列表\r\n\t\t\tasync getAllDetail (){\r\n\t\t\t\tthis.oldDetailList = []; //防止每次刷新数据重复叠加\r\n\t\t\t\tconsole.log('图表加载');\r\n\t\t\t\tconst res = await this.$myRuquest({\r\n\t\t\t\t\turl: '/api/getDetail'\r\n\t\t\t\t})\r\n\t\t\t\tlet alldata = res.data.message;\r\n\t\t\t\tthis.filterTime(alldata); // 筛选当前日期列表\r\n\t\t\t\tthis.arrayDetailList = this.arrayDetail(this.oldDetailList); // 按标签分组\r\n\t\t\t\tthis.inORout(this.arrayDetailList);\r\n\t\t\t\tthis.echartsdata(this.outnewDetail);\r\n\t\t\t},\r\n\t\t\t// 选择日期\r\n\t\t\tdateChange(e) {\r\n\t\t\t    this.dateVal = e.target.value.slice(0,7);\r\n\t\t\t\tthis.filtertime = this.dateVal;\r\n\t\t\t\tthis.formdateyear = e.target.value.slice(0,4);\r\n\t\t\t\tthis.formdatemonth = e.target.value.slice(5,7);\r\n\t\t\t\tthis.oldDetailList = [];\r\n\t\t\t\tthis.getAllDetail();\r\n\t\t\t\tthis.toglbtn = true;\r\n\t\t\t\tthis.btntype = \"支出\";\r\n\t\t\t },\r\n\t\t\t// 筛选当前日期列表\r\n\t\t\tfilterTime(p) {\r\n\t\t\t  p.forEach((element, i) => {\r\n\t\t\t    if (\r\n\t\t\t      this.filtertime.substring(0, 7) == element.addtime.substring(0, 7)\r\n\t\t\t    ) {\r\n\t\t\t      // console.log('筛选的数据：' + JSON.stringify(element)); //重点!!一定要用JSON.stringify\r\n\t\t\t      //   console.log('当月的时间：' + this.filtertime.substring(0,7) + '后台数据的' +element.addtime.substring(0,7));\r\n\t\t\t      this.oldDetailList.push(element);\r\n\t\t\t    }\r\n\t\t\t  });\r\n\t\t\t},\r\n\t\t\t// 按标签分组\r\n\t\t\tarrayDetail(data) {\r\n\t\t\t  //定义一个空数组\r\n\t\t\t  let newArr = [];\r\n\t\t\t  //通过forEach循环数组\r\n\t\t\t  data.forEach((item, i) => {\r\n\t\t\t    let index = -1;\r\n\t\t\t    //然后在跑到这里筛选 根据不同的时间放置不同的数组    some（）用来查找数组中是否存在某个值  如果存在 就return true\r\n\t\t\t    let isExists = newArr.some((newItem, j) => {\r\n\t\t\t      if (item.tagname == newItem.tagname) {\r\n\t\t\t        index = j;\r\n\t\t\t        return true;\r\n\t\t\t      }\r\n\t\t\t    });\r\n\t\t\t    //代码是先跑这里的if条件判读\r\n\t\t\t    if (!isExists) {\r\n\t\t\t      newArr.push({\r\n\t\t\t        tagname: item.tagname,\r\n\t\t\t        subList: [item],\r\n\t\t\t      });\r\n\t\t\t    } else {\r\n\t\t\t      newArr[index].subList.push(item);\r\n\t\t\t    }\r\n\t\t\t  });\r\n\t\t\t  return newArr;\r\n\t\t\t},\r\n\t\t\t//整理支出还是收入的数据\r\n\t\t\tinORout(detail) {\r\n\t\t\t  let b = [];\r\n\t\t\t  let c = [];\r\n\t\t\t  for (var i = 0; i < detail.length; i++) {\r\n\t\t\t    for (var j = 0; j < detail[i].subList.length; j++) {\r\n\t\t\t      if (detail[i].subList[j].consumetype == \"inType\") {\r\n\t\t\t        c.push(detail[i].subList[j]);\r\n\t\t\t      } else if (detail[i].subList[j].consumetype == \"outType\") {\r\n\t\t\t        b.push(detail[i].subList[j]);\r\n\t\t\t      }\r\n\t\t\t    }\r\n\t\t\t  }\r\n\t\t\t  this.innewDetail = this.arrayDetail(c);\r\n\t\t\t  this.outnewDetail = this.arrayDetail(b);\r\n\t\t\t},\r\n\t\t\t// 整理图表数据\r\n\t\t\techartsdata(typeDetail) {\r\n\t\t\t\tthis.totalout = 0,\r\n\t\t\t\tthis.totalin = 0;\r\n\t\t\t\tvar oldsum = 0;\r\n\t\t\t\tvar sum = 0; //此分类金额总数\r\n\t\t\t\tvar tgnam = ''; //此分类名字\r\n\t\t\t\tvar tgico = \"\"; //此分类icon\r\n\t\t\t\tvar num = 0; //此分类笔数\r\n\t\t\t\t\r\n\t\t\t\tthis.indexDetail = [];\r\n\t\t\t\tthis.echartsDetail = [];\r\n\t\t\t\tif (typeDetail.length !== 0) {\r\n\t\t\t\t\tfor (var i = 0; i < typeDetail.length; i++) {\r\n\t\t\t\t\t\tfor (var j = 0; j < typeDetail[i].subList.length; j++) {\r\n\t\t\t\t\t\t\tsum += parseFloat(typeDetail[i].subList[j].money.toFixed(2));\r\n\t\t\t\t\t\t\ttgico = typeDetail[i].subList[0].icon;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttgnam = typeDetail[i].tagname;\r\n\t\t\t\t\t\tnum += typeDetail[i].subList.length;\r\n\t\t\t\t\t\tthis.haveCounts = true;\r\n\t\t\t\t\t\tthis.indexDetail.push({\r\n\t\t\t\t\t\t\tlistbi: num,\r\n\t\t\t\t\t\t\tlisticon: tgico,\r\n\t\t\t\t\t\t\tpievalue: sum,\r\n\t\t\t\t\t\t\tpiename: tgnam,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.echartsDetail.push({\r\n\t\t\t\t\t\t\tvalue: sum,\r\n\t\t\t\t\t\t\tname: tgnam\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsum = 0;\r\n\t\t\t\t\t\tnum = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// console.log(this.echartsDetail);\r\n\t\t\t\t\tthis.chartData.series[0].data = this.echartsDetail;\r\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"没有\");\n\t\t\t\t\tthis.haveCounts = false;\n\t\t\t\t\tthis.echartsDetail.push({\n\t\t\t\t\t\tvalue: 0,\n\t\t\t\t\t\tname: '无',\n\t\t\t\t\t});\n\t\t\t\t}\r\n\t\t\t\tthis.compare(this.indexDetail);\r\n\t\t\t},\r\n\t\t\t// 按钮切换支出还是收入\r\n\t\t\tchangeType() {\r\n\t\t\t  this.toglbtn = !this.toglbtn;\r\n\t\t\t  if (this.toglbtn == true) {\r\n\t\t\t    this.btntype = \"支出\";\r\n\t\t\t    this.echartsdata(this.outnewDetail);\r\n\t\t\t    // console.log(this.btntype + this.toglbtn);\r\n\t\t\t  } else if (this.toglbtn == false) {\r\n\t\t\t    this.btntype = \"收入\";\r\n\t\t\t    this.echartsdata(this.innewDetail);\r\n\t\t\t    // console.log(this.btntype + this.toglbtn);\r\n\t\t\t  }\r\n\t\t\t},                                            \r\n\t\t\t// 排序方法--降序，金额最多在前\r\n\t\t\tcompare(list) {\r\n\t\t\t  for (let i = 0; i < list.length; i++) {\r\n\t\t\t    for (let j = i; j < list.length; j++) {\r\n\t\t\t      if (list[j].pievalue - list[i].pievalue > 0) {\r\n\t\t\t        let listObj = list[i];\r\n\t\t\t        list[i] = list[j];\r\n\t\t\t        list[j] = listObj;\r\n\t\t\t      }\r\n\t\t\t    }\r\n\t\t\t  }\r\n\t\t\t  return list;\r\n\t\t\t},\r\n\t\t\t// 开始触摸\r\n\t\t\thandleTouchStart(event) {\r\n\t\t\t\t// console.log(event.touches[0]);\r\n\t\t\t  let touch = event.touches[0];\r\n\t\t\t  this.startX = Number(touch.pageY);\r\n\t\t\t},\r\n\t\t\thandleTouchMove(event) {\r\n\t\t\t\t\r\n\t\t\t  // 1.获取第一个触点\r\n\t\t\t  let touch = event.touches[0];\r\n\t\t\t  // 2.求出移动的距离\r\n\t\t\t  this.moveWidth = Number(touch.pageY) - this.startX;\r\n\t\t\t},\r\n\t\t\thandleTouchEnd() {\r\n\t\t\t\tconsole.log(this.fuScrollTop);\r\n\t\t\t\t// console.log(this.$refs.scroll.getBoundingClientRect().top);\r\n\t\t\t\tif(this.moveWidth > 0 && this.fuScrollTop == 0 && this.fupdrf == '1') {\r\n\t\t\t\t\tthis.getAllDetail();\r\n\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon:'success',\r\n\t\t\t\t\t\t\ttitle:'刷新成功'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\n\t}\n</script>\n\n<style>\n/* 日期控件 */\r\n.datetype {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tmargin-top: 10px;\r\n}\n.date {\r\n\theight: 44px;\r\n\tmargin-left: 10px;\r\n}\r\n.date .arrow {\r\n\twidth: 8px;\r\n\theight: 8px;\r\n\tborder-bottom: 2px solid #000000;\r\n\tborder-left: 2px solid #000000;\r\n\ttransform: rotate(-45deg);\r\n\tmargin: 0 0 4px 6px;\r\n\tdisplay: inline-block;\r\n}\r\n.datey {\r\n\tfont-size: 14px;\r\n}\r\n.datem {\r\n\tfont-size: 18px;\r\n\tfont-weight: 600;\r\n}\r\n.datem .icon {\r\n\tfont-size: 16px;\r\n\tmargin-left: 4px;\r\n}\r\n.btn {\r\n\tmargin-right: 10px;\r\n\tbackground-color: #FFA800 !important;\r\n}\r\n/* 列表 */\n/* 无数据列表 */\n.listAreano {\n  border-top: 1px solid #ffa800;\n}\n.listItemno {\n  padding: 5px 20px;\n  border-bottom: 1px solid #ffa800;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 15px;\n}\n/* 有数据列表 */\n.listArea {\n  border-top: 1px solid #ffa800;\n}\n.listItem {\n  padding: 5px 20px;\n  border-bottom: 1px solid #ffa800;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 15px;\n}\n.listLeft {\n  display: flex;\n  align-items: center;\n}\n.listLeft image {\n  width: 36px;\n  height: 36px;\n  border: 1px solid #ffa800;\n  border-radius: 50%;\n  padding: 6px;\n}\n.listLeft text {\n  display: block;\n\n  margin-left: 10px;\n}\n.listRight {\n  display: flex;\n}\n.listMoney {\n  height: 34px;\n  line-height: 34px;\n  border-right: 1px solid #ffa800;\n  padding-right: 6px;\n  margin-right: 6px;\n}\n.listBI {\n  height: 34px;\n  line-height: 34px;\n}/* 列表 */\n/* 无数据列表 */\n.listAreano {\n  border-top: 1px solid #ffa800;\n}\n.listItemno {\n  padding: 5px 20px;\n  border-bottom: 1px solid #ffa800;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 15px;\n}\n/* 有数据列表 */\n.listArea {\n  border-top: 1px solid #ffa800;\n}\n.listItem {\n  padding: 5px 20px;\n  border-bottom: 1px solid #ffa800;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 15px;\n}\n.listLeft {\n  display: flex;\n  align-items: center;\n}\n.listLeft image {\n  width: 30px;\n  height: 30px;\n  border: 1px solid #ffa800;\n  border-radius: 50%;\n  padding: 6px;\n}\n.listLeft text {\n  display: block;\n\n  margin-left: 10px;\n}\n.listRight {\n  display: flex;\n}\n.listMoney {\n  height: 34px;\n  line-height: 34px;\n  border-right: 1px solid #ffa800;\n  padding-right: 6px;\n  margin-right: 6px;\n}\n.listBI {\n  height: 34px;\n  line-height: 34px;\n}\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./circlechart.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./circlechart.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1642731940381\n      var cssReload = require(\"F:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}